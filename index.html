<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูููุฉ ุฑูุญูุฉ - ูุตู ุชููุฐุฉ</title>

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">

    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }
        /* ููุฏ CSS ููุฑุณุงุฆู (ููู ููุฌูุฏ ุญุงูุฉ loading ู success/error) */
        #message {
            margin-top: 15px;
            font-weight: bold;
            color: #333;
        }
        #message.success { color: green; }
        #message.error { color: red; }
        #message.loading { color: orange; }
        
        /* ุฅุถุงูุฉ ุญุงูุฉ ุงูุฒุฑ ุงููุนุทู ูุชูููุฉ ููุน ุงูุฅุฑุณุงู ุงููุชุนุฏุฏ */
        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            /* ูููู ุฅุฒุงูุฉ ุฃู ุชุฃุซูุฑุงุช ุชุญุฑูู ุฅุถุงููุฉ ุฅุฐุง ูุงูุช ููุฌูุฏุฉ ูู style.css */
            transform: none !important; 
            box-shadow: none !important;
        }
    </style>
</head>

<body>

    <header>
        <h2>Kirellos George</h2>
    </header>

    <section class="hero">
        <img src="Screenshot_2025-11-26_201754-removebg-preview.png" alt="logo" class="logo">
        <h1>ูุตู ุชูููุฐู<br>ูููู ุงูุฑูุญูุฉ</h1>
        <p>ุฐุง ุงูููุจ ุณุงูุช ูุตูู ููุตูู ุชููุฐุฉ</p>
        <button class="main-btn">ุงูููุชุฉ</button>
    </section>

    <section class="form-section">

        <div class="row">
            <span>ุงูุงุณู :</span>
            <input type="text" id="studentName" placeholder="ุงูุชุจ ุงุณูู ููุง">
        </div>

        <div class="date-container">
            <input type="date" id="dateField">
        </div>

        <div class="row">
            <span>ุงูุฅูุฌูู :</span>
            <label>NO <input type="radio" name="gospel" value="No"></label>
            <label>YES <input type="radio" name="gospel" value="Yes"></label>
        </div>

        <div class="row">
            <span>ุงูุงุนุชุฑุงู :</span>
            <label>NO <input type="radio" name="confession" value="No"></label>
            <label>YES <input type="radio" name="confession" value="Yes"></label>
        </div>

        <div class="row">
            <span>ุงูุชูุงูู :</span>
            <label>NO <input type="radio" name="communion" value="No"></label>
            <label>YES <input type="radio" name="communion" value="Yes"></label>
        </div>

        <div class="row">
            <span>ุชูููุช ุงููุฑุงุกุฉ/ุงูุตูุงุฉ :</span>
            <label>ุจุงูุฑ <input type="checkbox" name="readingTime" value="ุจุงูุฑ"></label>
            <label>ุงูุบุฑูุจ <input type="checkbox" name="readingTime" value="ุงูุบุฑูุจ"></label>
            <label>ุงูููู <input type="checkbox" name="readingTime" value="ุงูููู"></label>
        </div>

        <div class="row">
            <span>ุงุฎุชุงุฑ ุงุดุจููู :</span>
            <select id="teacherSelect">
                <option value="">ุงุฎุชุงุฑ ุงุดุจููู</option>
                <option value="ุงุณุชุงุฐ ุจูุดูู ูุงูู">ุงุณุชุงุฐ ุจูุดูู ูุงูู</option>
                <option value="ุงุณุชุงุฐ ุงูููู">ุงุณุชุงุฐ ุงูููู</option>
                <option value="ุงุณุชุงุฐ ุฌูุฒูู">ุงุณุชุงุฐ ุฌูุฒูู</option>
                <option value="ุงุณุชุงุฐ ุจูุดูู ุตุจุฑู">ุงุณุชุงุฐ ุจูุดูู ุตุจุฑู</option>
                <option value="ุทุงุณููู ููุฑูุง">ุทุงุณููู ููุฑูุง</option>
                <option value="ุทุงุณููู ุงูููุช">ุทุงุณููู ุงูููุช</option>
                <option value="ุทุงุณููู ุฏุงููุง">ุทุงุณููู ุฏุงููุง</option>
                <option value="ุทุงุณููู ุงูุงู">ุทุงุณููู ุงูุงู</option>
                <option value="ุทุงุณููู ุงูุฏูุช">ุทุงุณููู ุงูุฏูุช</option>
                <option value="ุทุงุณููู ูุฑูุณุชูู">ุทุงุณููู ูุฑูุณุชูู</option>
            </select>
        </div>

        <button class="submit-btn" id="submitButton">ุฅุฑุณุงู</button>
        <div id="message"></div>

    </section>


<script>
// ุชุญุฏูุฏ ุฒุฑ ุงูุฅุฑุณุงู ููุชุบูุฑ ุงูุญุงูุฉ ูููุน ุงูุฅุฑุณุงู ุงููุชุนุฏุฏ
const submitButton = document.getElementById("submitButton");
let isSending = false;

// ูุฌุจ ุงุณุชุฎุฏุงู id="submitButton" ูู ุงูู HTML ูุชุญุฏูุซ ุงูู event listener ููุชุทุงุจู ูุน ูุฐุง
submitButton.addEventListener("click", async () => {
    // โ๏ธ ุงูููุน ูู ุงูุฅุฑุณุงู ุงููุชุนุฏุฏ: ุชุฌุงูู ุงูุถุบุท ุฅุฐุง ูุงูุช ุนูููุฉ ุงูุฅุฑุณุงู ุฌุงุฑูุฉ
    if (isSending) {
        console.log("ุฌุงุฑู ุงูุฅุฑุณุงู ุจุงููุนูุ ุชู ุชุฌุงูู ุงูุถุบุทุฉ ุงูุฅุถุงููุฉ.");
        return; 
    }

    const name = document.getElementById("studentName").value.trim();
    const date = document.getElementById("dateField").value;
    const teacher = document.getElementById("teacherSelect").value;

    const gospel = document.querySelector('input[name="gospel"]:checked')?.value;
    const confession = document.querySelector('input[name="confession"]:checked')?.value;
    const communion = document.querySelector('input[name="communion"]:checked')?.value;
    
    // ุฌูุน ุงูุฎูุงุฑุงุช ุงููุชุนุฏุฏุฉ (ุจุงูุฑ, ุงูุบุฑูุจ, ุงูููู)
    const selectedTimes = Array.from(document.querySelectorAll('input[name="readingTime"]:checked'))
        .map(checkbox => checkbox.value)
        .join(", ");
    
    // ุฅุฑุณุงู ุงูุฎูุงุฑุงุช ุงููุฌูุนุฉ ุชุญุช ุงุณู ุงูุญูู ุงููุฏูู "prayer"
    const prayer = selectedTimes || "ูู ูุชู ุงูุงุฎุชูุงุฑ"; 

    const messageBox = document.getElementById("message");

    // ===============================  
    // ๐ฅ (1) ุงูุชุญูู ูู ุงูุญููู ุงูุฅุฌุจุงุฑูุฉ
    // ===============================  
    if (!name || !date || !teacher || !gospel || !confession || !communion || prayer === "ูู ูุชู ุงูุงุฎุชูุงุฑ") {
        messageBox.textContent = "โ ูู ูุถูู ุฃููู ุฌููุน ุงูุญููู ุงููุทููุจุฉ";
        messageBox.className = "error";
        return;
    }

    // ูู ูู ุงูุจูุงูุงุช ุชูุงู โโโ
    isSending = true; // ุชุนููู ุงูุญุงูุฉ ุฅูู ููุฏ ุงูุฅุฑุณุงู
    submitButton.disabled = true; // ุชุนุทูู ุงูุฒุฑ ูููุน ุงูุถุบุท ุงููุชูุฑุฑ

    messageBox.textContent = "ุฌุงุฑู ุงูุฅุฑุณุงู...";
    messageBox.className = "loading";

    try {
        const res = await fetch(
            "https://script.google.com/macros/s/AKfycbz6GL3CFFEyCH7GBP-I51LyTzMRVfmihfpX-ONCFwOKMBKJdzHbWibnErBSOhqAaJsB/exec",
            {
                method: "POST",
                body: new URLSearchParams({
                    name,
                    date,
                    teacher,
                    gospel,
                    confession,
                    communion,
                    prayer // ุชุญุชูู ุงูุขู ุนูู "ุจุงูุฑ, ุงูุบุฑูุจ" ุฃู ุบูุฑูุง
                })
            }
        );

        const text = await res.text();
        messageBox.textContent = text;
        // ุชุญุฏูุซ ุงูุญุงูุฉ ุจูุงุกู ุนูู ุงูุฑุฏ
        messageBox.className = text.includes("โ") ? "success" : "error";

    } catch (err) {
        messageBox.textContent = "โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุฅุฑุณุงู. ุงูุฑุฌุงุก ุงููุญุงููุฉ ูุงุญููุง.";
        messageBox.className = "error";
    } finally {
        // ูุชู ุชูููุฐ ูุฐุง ุงูุฌุฒุก ุฏุงุฆููุง
        isSending = false; // ุฅุนุงุฏุฉ ุถุจุท ุงูุญุงูุฉ
        submitButton.disabled = false; // ุชูุนูู ุงูุฒุฑ ูุฌุฏุฏุงู
    }
});
</script>


</body>
</html>
