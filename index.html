<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูููุฉ ุฑูุญูุฉ - ูุตู ุชููุฐุฉ</title>

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css"> 
    
</head>

<body>

    <header>
        <h2>Kirellos George</h2>
    </header>

    <section class="hero">
        <img src="Screenshot_2025-11-26_201754-removebg-preview.png" alt="logo" class="logo">
        <h1>ูุตู ุชูููุฐู<br>ูููู ุงูุฑูุญูุฉ</h1>
        <p>ุฐุง ุงูููุจ ุณุงูุช ูุตูู ููุตูู ุชููุฐุฉ</p>
        <button class="main-btn">ุงูููุชุฉ</button>
    </section>

    <section class="form-section">

        <div class="row">
            <span>ุงูุงุณู :</span>
            <input type="text" id="studentName" placeholder="ุงูุชุจ ุงุณูู ููุง">
        </div>

        <div class="date-container">
            <input type="date" id="dateField">
        </div>

        <div class="row">
            <span>ุงูุฅูุฌูู :</span>
            <label>NO <input type="radio" name="gospel" value="No"></label>
            <label>YES <input type="radio" name="gospel" value="Yes"></label>
        </div>

        <div class="row">
            <span>ุงูุงุนุชุฑุงู :</span>
            <label>NO <input type="radio" name="confession" value="No"></label>
            <label>YES <input type="radio" name="confession" value="Yes"></label>
        </div>

        <div class="row">
            <span>ุงูุชูุงูู :</span>
            <label>NO <input type="radio" name="communion" value="No"></label>
            <label>YES <input type="radio" name="communion" value="Yes"></label>
        </div>

        <div class="row">
            <span>ุงูุตูุงุฉ :</span>
            <label>NO <input type="radio" name="prayer" value="No"></label>
            <label>YES <input type="radio" name="prayer" value="Yes"></label>
        </div>

        <div class="row">
            <span>ุงุฎุชุงุฑ ุงุดุจููู :</span>
            <select id="teacherSelect">
                <option value="">ุงุฎุชุงุฑ ุงุดุจููู</option>
                <option value="ุงุณุชุงุฐ ุจูุดูู ูุงูู">ุงุณุชุงุฐ ุจูุดูู ูุงูู</option>
                <option value="ุงุณุชุงุฐ ุงูููู">ุงุณุชุงุฐ ุงูููู</option>
                <option value="ุงุณุชุงุฐ ุฌูุฒูู">ุงุณุชุงุฐ ุฌูุฒูู</option>
                <option value="ุงุณุชุงุฐ ุจูุดูู ุตุจุฑู">ุงุณุชุงุฐ ุจูุดูู ุตุจุฑู</option>
                <option value="ุทุงุณููู ููุฑูุง">ุทุงุณููู ููุฑูุง</option>
                <option value="ุทุงุณููู ุงูููุช">ุทุงุณููู ุงูููุช</option>
                <option value="ุทุงุณููู ุฏุงููุง">ุทุงุณููู ุฏุงููุง</option>
                <option value="ุทุงุณููู ุงูุงู">ุทุงุณููู ุงูุงู</option>
                <option value="ุทุงุณููู ุงูุฏูุช">ุทุงุณููู ุงูุฏูุช</option>
                <option value="ุทุงุณููู ูุฑูุณุชูู">ุทุงุณููู ูุฑูุณุชูู</option>
            </select>
        </div>

        <button class="submit-btn" id="submitButton">ุฅุฑุณุงู</button>
        <div id="message"></div>

    </section>


<script>
// ุชุญุฏูุฏ ุฒุฑ ุงูุฅุฑุณุงู ูุงููุชุบูุฑ ููุญุงูุฉ ูููุน ุงูุฅุฑุณุงู ุงููุชุนุฏุฏ
const submitButton = document.getElementById("submitButton");
let isSending = false;

submitButton.addEventListener("click", async () => {
    // โ๏ธ ููุน ุงูุฅุฑุณุงู ุงููุชุนุฏุฏ: ุชุญูู ููุง ุฅุฐุง ูุงูุช ุนูููุฉ ุฅุฑุณุงู ุฌุงุฑูุฉ ุจุงููุนู
    if (isSending) {
        console.log("ุฌุงุฑู ุงูุฅุฑุณุงู ุจุงููุนูุ ุชู ุชุฌุงูู ุงูุถุบุทุฉ ุงูุฅุถุงููุฉ.");
        return; 
    }

    const name = document.getElementById("studentName").value.trim();
    const date = document.getElementById("dateField").value;
    const teacher = document.getElementById("teacherSelect").value;

    const gospel = document.querySelector('input[name="gospel"]:checked')?.value;
    const confession = document.querySelector('input[name="confession"]:checked')?.value;
    const communion = document.querySelector('input[name="communion"]:checked')?.value;
    const prayer = document.querySelector('input[name="prayer"]:checked')?.value;

    const messageBox = document.getElementById("message");

    // ===============================  
    // ๐ฅ (1) ุงูุชุญูู ูู ุฃู ูู ุงูุญููู ุฅุฌุจุงุฑูุฉ
    // ===============================  
    if (!name || !date || !teacher || !gospel || !confession || !communion || !prayer) {
        messageBox.textContent = "โ ูู ูุถูู ุฃููู ุฌููุน ุงูุญููู ุงููุทููุจุฉ (ุงูุงุณูุ ุงูุชุงุฑูุฎุ ุงูุฅุดุจููุ ูุฌููุน ุงูุงุฎุชูุงุฑุงุช)";
        messageBox.className = "error";
        return;
    }

    // ูู ูู ุงูุจูุงูุงุช ุชูุงู โโโ
    isSending = true; // ุชุนููู ุงูุญุงูุฉ ุฅูู ููุฏ ุงูุฅุฑุณุงู
    submitButton.disabled = true; // ุชุนุทูู ุงูุฒุฑ ูููุน ุงูุถุบุท ุงููุชูุฑุฑ

    messageBox.textContent = "ุฌุงุฑู ุงูุฅุฑุณุงู...";
    messageBox.className = "loading";

    try {
        const res = await fetch(
            "https://script.google.com/macros/s/AKfycbz6GL3CFFEyCH7GBP-I51LyTzMRVfmihfpX-ONCFwOKMBKJdzHbWibnErBSOhqAaJsB/exec",
            {
                method: "POST",
                body: new URLSearchParams({
                    name,
                    date,
                    teacher,
                    gospel,
                    confession,
                    communion,
                    prayer
                })
            }
        );

        const text = await res.text();
        messageBox.textContent = text;
        // ุชุญุฏูุซ ุงูุญุงูุฉ (Success/Error) ุจูุงุกู ุนูู ูุญุชูู ุงูุฑุฏ ูู Google Script
        messageBox.className = text.includes("โ") ? "success" : "error";

    } catch (err) {
        messageBox.textContent = "โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุฅุฑุณุงู. ุงูุฑุฌุงุก ุงูุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช ูุงููุญุงููุฉ ูุงุญููุง.";
        messageBox.className = "error";
    } finally {
        // ูุชู ุชูููุฐ ูุฐุง ุงูุฌุฒุก ุฏุงุฆููุง (ุณูุงุก ูุฌุญ ุงูุฅุฑุณุงู ุฃู ูุดู)
        isSending = false; // ุฅุนุงุฏุฉ ุถุจุท ุงูุญุงูุฉ
        submitButton.disabled = false; // ุชูุนูู ุงูุฒุฑ ูุฌุฏุฏุงู
    }
});
</script>


</body>
</html>
